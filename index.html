<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>WPM Quiz with Audio</title>
<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
    line-height: 1.6;
  }

  h2, h3 {
    text-align: center;
  }

  #text {
    border: 1px solid #ccc;
    padding: 20px;
    margin-bottom: 30px;
    background: #f9f9f9;
    font-size: 1.1em;
  }

  #controls {
    text-align: center;
    margin: 20px 0;
  }

  /* ボタン1.5倍拡大 */
  button {
    font-size: 1.95em;      /* 1.3em × 1.5 */
    padding: 22px 45px;     /* 1.5倍 */
    margin: 15px;
    border-radius: 12px;
    cursor: pointer;
    border: none;
    background-color: #4CAF50;
    color: white;
    transition: background 0.3s;
  }

  button:hover {
    background-color: #45a049;
  }

  /* 音声プレーヤー余白6行分 */
  audio {
    display: block;
    margin: 6em 0;          /* 上下6行分の余白 */
    width: 100%;
  }

  #questions {
    margin-top: 30px;
  }

  .question-label {
    font-size: 1.65em;       /* 1.1em × 1.5 */
    display: block;
    margin-bottom: 15px;
  }

  input[type="checkbox"] {
    width: 36px;             /* 24px × 1.5 */
    height: 36px;            /* 24px × 1.5 */
    margin-right: 15px;
    vertical-align: middle;
  }

  #result {
    margin-top: 20px;
    font-size: 1.1em;
    text-align: center;
    font-weight: bold;
  }

  /* モバイル対応 */
  @media (max-width: 600px) {
    body {
      padding: 15px;
    }

    button {
      width: 90%;
      padding: 22px 0;
      font-size: 1.8em; /* 少し小さくしてスマホ幅に収める */
    }

    #text {
      font-size: 1em;
      padding: 15px;
    }

    .question-label {
      font-size: 1.5em;
    }
  }
</style>
</head>
<body>

<h2>Three-minute Training</h2>

<h3>Listen to the audio:</h3>
<audio controls>
  <source src="85. Gemini 1.5.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<div id="text">
【1】Gemini Robotics 1.5 is a new AI model. It helps robots see, think, and act in the real world. Robots with Gemini Robotics 1.5 can do many jobs. They can work with people, use tools, and solve problems. They do not need to be trained for every job; they can learn and try new things. This model is safe, smart, and works well. It is easy for developers to use. Gemini Robotics 1.5 helps robots finish tasks step by step. It is good for schools, homes, and factories. Now, robots can help people more. They can understand and move around. Gemini Robotics 1.5 makes robots helpful in our life.
</div>

<div id="controls">
  <button onclick="startReading()">▶ Start</button>
  <button onclick="finishReading()">⏹ Finish</button>
</div>

<div id="questions">
  <h3>Quiz</h3>
  <label class="question-label">
    <input type="checkbox" class="q1" value="a"> It helps robots work with people.
  </label>
  <label class="question-label">
    <input type="checkbox" class="q1" value="b"> Robots using Gemini Robotics 1.5 need training for every job.
  </label>
  <label class="question-label">
    <input type="checkbox" class="q1" value="c"> Robots can move and act in the real world with Gemini Robotics 1.5.
  </label>
  <label class="question-label">
    <input type="checkbox" class="q1" value="d"> Gemini Robotics 1.5 is not safe for school.
  </label>
</div>

<div id="result"></div>

<script>
let startTime;
let wordCount = 0;

function startReading() {
  const text = document.getElementById("text").innerText.trim();
  wordCount = text.split(/\s+/).length;
  startTime = Date.now();
  document.getElementById("result").innerText = "Reading started...";
}

function finishReading() {
  if (!startTime) return alert("Please start reading first!");
  const elapsedSec = (Date.now() - startTime) / 1000;

  const correctAnswers = ["a","c"];
  const checked = Array.from(document.querySelectorAll(".q1:checked")).map(el => el.value);
  const numCorrect = checked.filter(val => correctAnswers.includes(val)).length;
  const accuracy = numCorrect / correctAnswers.length;

  const rawWPM = (wordCount / elapsedSec) * 60;
  const finalWPM = Math.round(rawWPM * accuracy);

  document.getElementById("result").innerHTML =
    `Time: ${elapsedSec.toFixed(1)} sec<br>` +
    `Raw WPM: ${rawWPM.toFixed(1)}<br>` +
    `Accuracy: ${(accuracy*100).toFixed(0)}%<br>` +
    `Final WPM (accuracy applied): ${finalWPM}`;
}
</script>

</body>
</html>
